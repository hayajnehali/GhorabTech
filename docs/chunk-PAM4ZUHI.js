import{Fa as c,Qa as u,eb as f,pa as d}from"./chunk-X4WIL7KK.js";import{jb as r,kc as o,lc as n,mc as l,qb as a,sb as s}from"./chunk-QR74OZQX.js";var h=class p extends f{constructor(e,t){super();this.service=e;this.filterT=t;this.filter=new t}dataSource=new d;displayedColumns=[];filter={};loading=!1;totalNumberOf=0;pageSizeOptions=[5,10,20,40,80,100];orderBy=u;paginator;ngOnInit(){this.loadData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}loadData(){this.loading=!1;let e=this.service.getAll(this.filter).subscribe({next:t=>{t.data&&(this.dataSource.data=t.data),this.totalNumberOf=t.totalNumberOf,this.loading=!0},complete:()=>{this.processAfterComplete()},error:t=>{}});this.subscribe(e)}processAfterComplete(){}delete(e){let t=this.service.delete(e).subscribe(()=>this.loadData());this.subscribe(t)}pageChanged(e){this.filter.pageIndex=e.pageIndex+1,this.filter.pageSize=e.pageSize,this.loadData()}get hasData(){return this.dataSource?.data?.length>0}goBack(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}search(){this.loadData()}reset(){this.filter=new this.filterT,this.loadData()}onSort(e,t){this.filter.sortBy=e,this.filter.orderBy=t,this.filter.pageIndex=1,this.loadData()}static \u0275fac=function(t){r()};static \u0275dir=a({type:p,viewQuery:function(t,g){if(t&1&&o(c,5),t&2){let i;n(i=l())&&(g.paginator=i.first)}},features:[s]})};export{h as a};
