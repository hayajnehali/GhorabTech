import{a as me}from"./chunk-WAUMX622.js";import{a as Ee}from"./chunk-XUKVIDCL.js";import{d as ze}from"./chunk-PC7FF4E3.js";import{a as $e}from"./chunk-HUH4PWLI.js";import{a as G}from"./chunk-JGCME5WG.js";import{d as je}from"./chunk-XHVGSRHH.js";import{a as N}from"./chunk-RUSLR4JQ.js";import{b as Re,c as Oe}from"./chunk-UFMJD2HG.js";import{a as We}from"./chunk-6XWWO4P3.js";import{c as Ae,d as A}from"./chunk-JRXI3A3X.js";import{b as le}from"./chunk-KU6GPCNL.js";import{a as L}from"./chunk-YEOBXEDG.js";import{A as Te,D as Ve,Ea as Me,Fa as D,M as Be,Oa as Z,Qa as Fe,Sa as De,Wa as Le,b as we,c as q,cb as Ne,e as U,j as be,q as B,r as Ie,v as J,w as Pe,z as ke}from"./chunk-S3BQNW4Q.js";import{Dc as O,Ec as H,Fb as ve,Gb as ge,Hc as d,Ic as p,Jb as h,Kb as S,Kc as ye,Lb as V,Nb as b,Ob as E,Pb as _,Qb as o,Rb as r,Sb as x,Tb as y,Ub as I,Vb as ae,Xa as i,Y as de,Z as pe,Zb as P,aa as se,ba as z,cc as v,ec as m,ga as g,ha as C,ib as M,ob as k,oc as ce,pb as _e,qa as ue,qc as Ce,sb as F,sc as c,tb as T,tc as u,ub as fe,uc as f,vc as R,xc as xe,yc as he,zc as Se}from"./chunk-VUDVN56Y.js";var Ge=t=>[t,"product"],Qe=()=>({delay:4e3,disableOnInteraction:!1}),Xe=()=>[5,10,20];function Ye(t,l){if(t&1&&(o(0,"li",14)(1,"span"),c(2),r()()),t&2){let e=m();i(2),u(e.dataSource.data[0].category.name.local)}}function et(t,l){if(t&1&&(o(0,"p",19),c(1),r()),t&2){let e=m();i(),f(" ",e.dataSource.data[0].category.description==null?null:e.dataSource.data[0].category.description.local," ")}}function tt(t,l){if(t&1&&(o(0,"swiper-slide"),x(1,"app-image",30),r()),t&2){let e=m().$implicit,a=m().$implicit;i(),_("src",e.guidName)("alt",a.name.local)}}function it(t,l){if(t&1&&h(0,tt,2,2,"swiper-slide"),t&2){let e=l.$implicit;S(e!=null&&e.guidName?0:-1)}}function nt(t,l){if(t&1&&(o(0,"div",23)(1,"div",24)(2,"div",25)(3,"swiper-container",26),b(4,it,1,1,null,null,V),r()(),o(6,"div",27)(7,"p",28),c(8),r(),o(9,"div",29),c(10),d(11,"translate"),o(12,"mat-icon"),c(13,"chevron_right"),r()()()()()),t&2){let e=l.$implicit;i(),_("routerLink",H(6,Ge,e.id)),i(2),_("autoplay",O(8,Qe)),i(),E(e.images),i(4),f(" ",e.name.local," "),i(2),f(" ",p(11,4,"general.explore")," ")}}function ot(t,l){if(t&1&&(o(0,"div",20),b(1,nt,14,9,"div",23,V),r()),t&2){let e=m();i(),E(e.dataSource.data)}}function rt(t,l){if(t&1){let e=P();o(0,"mat-paginator",31),v("page",function(n){g(e);let s=m();return C(s.pageChanged(n))}),r()}if(t&2){let e=m();_("length",e.totalNumberOf)("pageSizeOptions",O(2,Xe))}}var K=class t extends L{constructor(e){super(e,Ae);this.productService=e}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.filter.CategoryId=this.activatedRoute.snapshot.paramMap.get("id")??null,this.loadData()})}goToHome(){this.router.navigate(["/"])}goToProductCategory(){this.router.url.includes("product-category")&&this.router.navigate(["/"])}static \u0275fac=function(a){return new(a||t)(M(We))};static \u0275cmp=k({type:t,selectors:[["app-product-category-section"]],standalone:!1,features:[F],decls:37,vars:16,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"row","w-100"],[1,"col-12","my-4"],[1,"row"],[1,"col-md-10","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2"],[1,"navbar-collapse"],[1,""],[1,"nav-item","header__top__hover","mx-2",3,"click"],["class","nav-item header__top__hover mx-2",4,"ngIf"],[1,"col-md-2","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2","border"],[1,"navbar-nav"],[1,"nav-item","header__top__hover","mx-2"],[1,"dropdown-menu-list"],[1,"dropdown-item",3,"click"],[1,"col-md-0","col-sm-0"],[1,"col-md-12","col-sm-12","category-section"],[1,"text-muted"],[1,"row","g-3","g-md-4","category-section"],[1,"col-12"],["showFirstLastButtons","",1,"mat-paginator",3,"length","pageSizeOptions"],[1,"col-6","col-sm-4","col-md-3"],[1,"product-card",3,"routerLink"],[1,"image-container"],["slides-per-view","1","speed","1500","loop","true",3,"autoplay"],[1,"card-body","text-center"],[1,"category-name","text-truncate"],[1,"explore-badge"],[1,"main-img",3,"src","alt"],["showFirstLastButtons","",1,"mat-paginator",3,"page","length","pageSizeOptions"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"nav",6)(7,"div",7)(8,"ul",8)(9,"li",9),v("click",function(){return n.goToHome()}),o(10,"span"),c(11),d(12,"translate"),r()(),T(13,Ye,3,1,"li",10),r()()()(),o(14,"div",11)(15,"nav",12)(16,"div",7)(17,"ul",13)(18,"li",14)(19,"span"),c(20),d(21,"translate"),r(),o(22,"ul",15)(23,"li")(24,"a",16),v("click",function(){return n.onSort("name",n.orderBy.Asc)}),c(25),d(26,"translate"),r()(),o(27,"li")(28,"a",16),v("click",function(){return n.onSort("name",n.orderBy.Desc)}),c(29),d(30,"translate"),r()()()()()()()()()(),x(31,"div",17),o(32,"div",18),h(33,et,2,1,"p",19),h(34,ot,3,0,"div",20),r(),o(35,"div",21),h(36,rt,1,3,"mat-paginator",22),r()()()()),a&2&&(i(11),f("",p(12,8,"general.home")," > "),i(2),_("ngIf",n.hasData),i(7),u(p(21,10,"general.filter-by")),i(5),f(" ",p(26,12,"general.A-Z")," "),i(4),f(" ",p(30,14,"general.Z-A")," "),i(4),S(n.hasData?33:-1),i(),S(n.dataSource.data.length>0?34:-1),i(2),S(n.hasData?36:-1))},dependencies:[q,J,Me,D,A,B],encapsulation:2})};var ct=()=>["/"],lt=()=>["../../"],mt=t=>[t];function dt(t,l){if(t&1&&(o(0,"li",8)(1,"span"),c(2),r()()),t&2){let e=m(2);_("routerLink",O(2,lt)),i(2),f("",e.dataSource.data[0].productCategory.category.name.local," >")}}function pt(t,l){if(t&1&&(o(0,"span"),c(1),r()),t&2){let e=m(2);i(),u(e.dataSource.data[0].productCategory.name.local)}}function st(t,l){if(t&1&&(T(0,dt,3,3,"li",20),o(1,"li",9),T(2,pt,2,1,"span",21),r()),t&2){let e=m();_("ngIf",e.hasData),i(2),_("ngIf",e.dataSource.data[0]&&e.dataSource.data[0].productCategory)}}function ut(t,l){if(t&1&&(o(0,"li",9)(1,"span"),c(2),d(3,"translate"),r()()),t&2){let e=m();i(2),R("",p(3,2,"general.result-for")," ",e.filter.name," >")}}function _t(t,l){if(t&1&&(o(0,"div",25),c(1),r()),t&2){let e=m().$implicit;i(),f(" ",e.discountRated,"% OFF ")}}function ft(t,l){if(t&1&&(o(0,"swiper-slide"),x(1,"app-image",30),r()),t&2){let e=l.$implicit,a=m().$implicit;i(),_("src",e.guidName)("alt",a.name.local)}}function vt(t,l){if(t&1&&(o(0,"div",22)(1,"div",23)(2,"div",24),h(3,_t,2,1,"div",25),o(4,"swiper-container",26),b(5,ft,2,2,"swiper-slide",null,V),r()(),o(7,"div",27)(8,"p",28),c(9),r(),o(10,"div",29)(11,"small"),c(12),d(13,"translate"),r(),c(14),r()()()()),t&2){let e=l.$implicit;i(),_("routerLink",H(7,mt,e.id)),i(2),S(e.discountRated?3:-1),i(2),E(e.images),i(4),u(e.name.local),i(3),u(p(13,5,"general.JOD")),i(2),f(" ",e.price," ")}}function gt(t,l){if(t&1&&(o(0,"div",17),b(1,vt,15,9,"div",22,V),r()),t&2){let e=m();i(),E(e.dataSource.data)}}var Y=class t extends L{constructor(e){super(e,Oe);this.productService=e}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.filter.productCategoryId=this.activatedRoute.snapshot.paramMap.get("productCategoryId")??null,this.filter.name=this.activatedRoute.snapshot.paramMap.get("nameOfProduct"),this.loadData()})}static \u0275fac=function(a){return new(a||t)(M(N))};static \u0275cmp=k({type:t,selectors:[["app-product-section"]],standalone:!1,features:[F],decls:45,vars:24,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"row","w-100"],[1,"col-12","my-4"],[1,"row"],[1,"col-md-10","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2"],[1,"navbar-collapse"],[1,"nav-item","header__top__hover","mx-2",3,"routerLink"],[1,"nav-item","header__top__hover","mx-2"],[1,"col-md-2","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2","border"],[1,"navbar-nav"],[1,"dropdown-menu-list"],[1,"dropdown-item",3,"click"],[1,"col-md-0","col-sm-0"],[1,"col-md-12","col-sm-12"],[1,"row","g-4","category-section"],[1,"col-12"],["showFirstLastButtons","",3,"page","length","pageSizeOptions"],["class","nav-item header__top__hover mx-2",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"col-6","col-md-3"],[1,"product-card",3,"routerLink"],[1,"image-container"],[1,"discountRated"],["slides-per-view","1","speed","1500","loop","true","autoplay",'{"delay": 3500}'],[1,"card-body","text-center"],[1,"text-truncate","px-2"],[1,"price-tag"],[1,"main-img",3,"src","alt"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"nav",6)(7,"div",7)(8,"ul")(9,"li",8)(10,"span"),c(11),d(12,"translate"),r()(),h(13,st,3,2)(14,ut,4,4,"li",9),r()()()(),o(15,"div",10)(16,"nav",11)(17,"div",7)(18,"ul",12)(19,"li",9)(20,"span"),c(21),d(22,"translate"),r(),o(23,"ul",13)(24,"li")(25,"a",14),v("click",function(){return n.onSort("price",n.orderBy.Asc)}),c(26),d(27,"translate"),r()(),o(28,"li")(29,"a",14),v("click",function(){return n.onSort("price",n.orderBy.Desc)}),c(30),d(31,"translate"),r()(),o(32,"li")(33,"a",14),v("click",function(){return n.onSort("name",n.orderBy.Asc)}),c(34),d(35,"translate"),r()(),o(36,"li")(37,"a",14),v("click",function(){return n.onSort("name",n.orderBy.Desc)}),c(38),d(39,"translate"),r()()()()()()()()()(),x(40,"div",15),o(41,"div",16),h(42,gt,3,0,"div",17),r(),o(43,"div",18)(44,"app-pagination",19),v("page",function(w){return n.pageChanged(w)}),r()()()()()),a&2&&(i(9),_("routerLink",O(23,ct)),i(2),f("",p(12,11,"general.home")," > "),i(2),S(n.filter.name==null||n.filter.name!=""?13:14),i(8),u(p(22,13,"general.filter-by")),i(5),f(" ",p(27,15,"general.price-low-high")," "),i(4),f(" ",p(31,17,"general.price-high-low")," "),i(4),f(" ",p(35,19,"general.A-Z")," "),i(4),f(" ",p(39,21,"general.Z-A")," "),i(4),S(n.dataSource.data.length>0?42:-1),i(2),_("length",n.totalNumberOf)("pageSizeOptions",n.pageSizeOptions))},dependencies:[q,J,A,G,B],encapsulation:2})};var W=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-reviews-section"]],decls:40,vars:27,consts:[[1,"reviews-section","py-5","text-center"],[1,"container"],[1,"section-title","mb-3"],[1,"section-subtitle","mb-5"],[1,"review-box","mb-4","p-3","d-flex","align-items-center","shadow-sm","rounded"],["src","./assets/img/icon/facebook.svg","alt","Facebook","width","40",1,"me-3"],[1,"text-center","w-100"],[1,"fw-bold","mb-1"],[1,"stars","mb-1"],["src","./assets/img/icon/download.svg","alt","Google","width","40",1,"me-3"],[1,"delivery-info","mt-5"],[1,"fw-bold"],[1,"text-muted"]],template:function(e,a){e&1&&(y(0,"section",0)(1,"div",1)(2,"h3",2),c(3),d(4,"translate"),I(),y(5,"p",3),c(6),d(7,"translate"),I(),y(8,"div",4),ae(9,"img",5),y(10,"div",6)(11,"h5",7),c(12),d(13,"translate"),I(),y(14,"div",8),c(15," \u2B50\u2B50\u2B50\u2B50\u2B50 "),I(),y(16,"small"),c(17),d(18,"translate"),I()()(),y(19,"div",4),ae(20,"img",9),y(21,"div",6)(22,"h5",7),c(23),d(24,"translate"),I(),y(25,"div",8),c(26," \u2B50\u2B50\u2B50\u2B50\u2B50 "),I(),y(27,"small"),c(28),d(29,"translate"),I()()(),y(30,"div",10)(31,"h5",11),c(32),d(33,"translate"),I(),y(34,"p"),c(35),d(36,"translate"),I(),y(37,"small",12),c(38),d(39,"translate"),I()()()()),e&2&&(i(3),f(" ",p(4,9,"reviews-section.title")," "),i(3),f(" ",p(7,11,"reviews-section.subtitle")," "),i(6),u(p(13,13,"reviews-section.fb.title")),i(5),u(p(18,15,"reviews-section.fb.text")),i(6),u(p(24,17,"reviews-section.google.title")),i(5),u(p(29,19,"reviews-section.google.text")),i(4),u(p(33,21,"reviews-section.delivery.title")),i(3),u(p(36,23,"reviews-section.delivery.text")),i(3),u(p(39,25,"reviews-section.delivery.note")))},dependencies:[Ie,B],styles:[".reviews-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#0a192f;text-align:center}.reviews-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0a192f}.reviews-section[_ngcontent-%COMP%]   .review-box[_ngcontent-%COMP%]{border-bottom:1px solid #0a192f;color:#888}.reviews-section[_ngcontent-%COMP%]   .review-box[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{color:orange}.reviews-section[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem;color:#888}"]})};var ee=class extends le{productId;comment;userName},te=class extends le{productId;comment;userName;isEditing=!1},ie=class extends Fe{};var ne=class t extends Le{constructor(l){super(l,"comment")}static \u0275fac=function(e){return new(e||t)(se(be))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})};var ht=(t,l)=>l.id;function St(t,l){if(t&1){let e=P();o(0,"div",13)(1,"button",16),v("click",function(){g(e);let n=m().$implicit,s=m();return C(s.toggleEdit(n))}),o(2,"mat-icon"),c(3,"edit"),r()(),o(4,"button",17),v("click",function(){g(e);let n=m().$implicit,s=m();return C(s.deleteComment(n.id))}),o(5,"mat-icon"),c(6,"delete"),r()()()}}function yt(t,l){if(t&1){let e=P();o(0,"div",14),x(1,"textarea",18,1),o(3,"div",19)(4,"button",20),v("click",function(){g(e);let n=m().$implicit,s=m();return C(s.toggleEdit(n))}),o(5,"mat-icon"),c(6,"close"),r()(),o(7,"button",20),v("click",function(){g(e);let n=ce(2),s=m().$implicit,w=m();return C(w.saveEdit(s,n.value))}),o(8,"mat-icon"),c(9,"check"),r()()()()}if(t&2){let e=m().$implicit;i(),_("value",e.comment)}}function wt(t,l){if(t&1&&(o(0,"p",15),c(1),r()),t&2){let e=m().$implicit;i(),u(e.comment)}}function bt(t,l){if(t&1&&(o(0,"div",4)(1,"div",9),c(2),r(),o(3,"div",10)(4,"div",11)(5,"span",12),c(6),r(),h(7,St,7,0,"div",13),r(),h(8,yt,10,1,"div",14)(9,wt,2,1,"p",15),r()()),t&2){let e,a=l.$implicit,n=m();i(2),u(a.userName==null?null:a.userName.charAt(0)),i(4),u(a.userName),i(),S(n.authService.isAuthenticatedSignal()&&((e=n.authService.user())==null?null:e.certserialnumber)===a.createdBy?7:-1),i(),S(a.isEditing?8:9)}}var j=class t extends L{constructor(e){super(e,ie);this.commentService=e}comment=new te;newCommentText=ue("");productService=z(N);productId=null;addComment(){this.authService.runWithAuth(()=>{if(!this.newCommentText().trim())return;let e=new ee;e.productId=this.productId,e.userName=this.authService.user()?.userName,e.createdBy=this.authService.user()?.certserialnumber||"",e.comment=this.newCommentText(),this.commentService.create(e).subscribe({next:a=>{a.success&&(e.id=a.data?.id,this.dataSource.data.push(e),this.newCommentText.set(""))}})})}deleteComment(e){this.commentService.delete(e).subscribe({next:a=>{a.success&&(this.dataSource.data=this.dataSource.data.filter(n=>n.id!==e))},error:a=>{this.notificationService.showError(a)}})}toggleEdit(e){e.isEditing=!e.isEditing}saveEdit(e,a){this.authService.runWithAuth(()=>{a.trim()&&(e.comment=a,this.dataSource.data.find(n=>n.id===e.id).comment=a,this.dataSource.data.find(n=>n.id===e.id).isEditing=!1,this.commentService.update(e).subscribe({next:n=>{}}))})}static \u0275fac=function(a){return new(a||t)(M(ne))};static \u0275cmp=k({type:t,selectors:[["app-comment-manage-with-list"]],inputs:{productId:"productId"},features:[F],decls:15,vars:9,consts:[["commentInput","ngModel"],["editInput",""],[1,"comments-container"],[1,"comments-list"],[1,"comment-card"],[1,"comment-input-section","d-f"],["maxlength","200",3,"ngModelChange","ngModel","placeholder"],[3,"control"],[3,"click","disabled"],[1,"avatar"],[1,"content"],[1,"comment-header"],[1,"username"],[1,"actions"],[1,"edit-mode"],[1,"text"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[3,"value"],[1,"btn-container"],["type","button",3,"click"]],template:function(a,n){if(a&1){let s=P();o(0,"div",2)(1,"h3"),c(2),d(3,"translate"),r(),o(4,"div",3),b(5,bt,10,4,"div",4,ht),r(),o(7,"div",5)(8,"input",6,0),d(10,"translate"),Se("ngModelChange",function(re){return g(s),he(n.newCommentText,re)||(n.newCommentText=re),C(re)}),r(),x(11,"app-form-error",7),o(12,"button",8),v("click",function(){return g(s),C(n.addComment())}),o(13,"mat-icon"),c(14,"send"),r()()()()}if(a&2){let s=ce(9);i(2),u(p(3,5,"comments.title")),i(3),E(n.dataSource.data),i(3),xe("ngModel",n.newCommentText),_("placeholder",p(10,7,"comments.placeholder")),i(3),_("control",s),i(),_("disabled",!n.newCommentText())}},dependencies:[Z,ke,Te,Be,Ve,D,U,De,B],encapsulation:2})};var It=()=>[j];function Pt(t,l){if(t&1&&(o(0,"swiper-slide"),x(1,"app-image",32),r()),t&2){let e=l.$implicit;i(),_("src",e.guidName)}}function kt(t,l){if(t&1&&(o(0,"span",14),c(1),d(2,"translate"),r()),t&2){let e=m();i(),R(" ",e.product.priceBeforeDiscount," ",p(2,2,"general.JOD")," / ")}}function Tt(t,l){if(t&1){let e=P();o(0,"i",33),v("click",function(){let n=g(e).$implicit,s=m();return C(s.rate(n))}),r()}if(t&2){let e=l.$implicit,a=m();Ce("checked",e<=a.currentRating)}}function Vt(t,l){t&1&&(o(0,"div")(1,"mat-icon"),c(2,"report_problem"),r(),o(3,"p",34),c(4),d(5,"translate"),r()()),t&2&&(i(4),u(p(5,1,"general.out-of-stock")))}function Bt(t,l){if(t&1){let e=P();o(0,"div",37)(1,"input",38),v("change",function(){let n=g(e).$implicit,s=m().$implicit,w=m();return C(w.onAttributeSelected(s,n))}),r(),o(2,"label",39),c(3),r()()}if(t&2){let e=l.$implicit,a=m().$implicit;i(),_("value",e.id)("id","val-"+e.id)("name","attr-"+a.id)("checked",e.iselected),i(),_("for","val-"+e.id),i(),f(" ",e.value.local," ")}}function Mt(t,l){if(t&1&&(o(0,"div",19)(1,"label",35),c(2),r(),o(3,"div",36),b(4,Bt,4,6,"div",37,V),r()()),t&2){let e=l.$implicit;i(2),u(e.name.local),i(2),E(e.keyAttributeValues)}}function Ft(t,l){if(t&1&&x(0,"app-comment-manage-with-list",40),t&2){let e=m();_("productId",e.id)}}function At(t,l){t&1&&(o(0,"div",41),c(1,"\u0627\u0646\u0632\u0644 \u0644\u0623\u0633\u0641\u0644 \u0644\u0631\u0624\u064A\u0629 \u0627\u0644\u062A\u0639\u0644\u064A\u0642\u0627\u062A"),r())}function Rt(t,l){if(t&1){let e=P();o(0,"div")(1,"button",43),v("click",function(){let n=g(e).$implicit,s=m().$implicit,w=m(2);return C(w.selectOption(s,n))}),c(2),r()()}if(t&2){let e=l.$implicit;i(2),f(" ",e.value.local," ")}}function Ot(t,l){if(t&1&&(o(0,"div")(1,"label"),c(2),r(),T(3,Rt,3,1,"div",42),r()),t&2){let e=l.$implicit;i(2),u(e.name.local),i(),_("ngForOf",e.keyAttributeValues)}}function Dt(t,l){if(t&1&&T(0,Ot,4,2,"div",42),t&2){let e=m();_("ngForOf",e.keyAttributes)}}var oe=class t extends Ne{constructor(e){super();this.productService=e}product=new Re;cartService=z(ze);spinnerService=z(Ee);keyAttributes=[];item=new me;id=null;currentRating=0;stars=[1,2,3,4,5];ngOnInit(){this.getProductById()}getProductById(){this.id=this.activatedRoute.snapshot.paramMap.get("productId"),this.id!=null&&this.productService.getById(this.id).subscribe(e=>{e.data&&(this.product=e.data,this.getKeyAttribute())})}getKeyAttribute(){this.product.keyAttributeValues&&this.product.keyAttributeValues.forEach(e=>{this.keyAttributes.find(a=>a.id==e.keyAttribute.id)||this.keyAttributes.push(e.keyAttribute),this.keyAttributes.find(a=>a.id==e.keyAttribute.id)?.keyAttributeValues||(this.keyAttributes.find(a=>a.id==e.keyAttribute.id).keyAttributeValues=[]),this.keyAttributes.find(a=>a.id==e.keyAttribute.id)?.keyAttributeValues?.push(e)})}selectOption(e,a){}increment(){this.item.quantity++}decrement(){this.item.quantity>1&&this.item.quantity--}addToCart(){if(this.addAttributeSelected(),!this.item.keyAttributeValues||this.item.keyAttributeValues.length<this.keyAttributes.length){this.notificationService.showWarning(this.translate.instant("general.select-all-attributes"),this.translate.instant("general.error"));return}this.item.product.id=this.product.id,this.item.product.name=this.product.name,this.item.product.price=this.product.price,this.item.product.images=this.product.images,this.cartService.addItem(this.item),this.notificationService.showSuccess(this.translate.instant("cart.add-to-cart"),this.translate.instant("general.success")),this.item=new me,this.spinnerService.openSideCart()}addAttributeSelected(){for(let e of this.keyAttributes){let a=e.keyAttributeValues.find(n=>n.iselected);if(a){let n=new je;n.id=a.id,n.value=a.value,this.item.keyAttributeValues.push(n),a.iselected=!1}}}onAttributeSelected(e,a){a.iselected=!0,e.keyAttributeValues.filter(n=>n.id!==a.id).forEach(n=>{n.iselected=!1})}rate(e){this.authService.runWithAuth(()=>{this.submitRating(e)})}submitRating(e){this.currentRating=e,this.productService.addOrUpdateRating(this.id,e).subscribe({next:a=>{this.product.averageRating=a.data??0},error:a=>console.error("Rating failed",a)})}static \u0275fac=function(a){return new(a||t)(M(N))};static \u0275cmp=k({type:t,selectors:[["app-product-view"]],standalone:!1,features:[F],decls:66,vars:25,consts:[["attributeOptionsTemplate",""],[1,"container","my-5","product-view"],[1,"row"],[1,"mb-3"],[1,"section-title","section-title-center","m-0"],["aria-hidden","true"],[1,"section-title-main","m-0"],[1,"col-md-6","image-gallery"],["slides-per-view","1","space-between","20","pagination","true","navigation","true","speed","3000","loop","true","autoplay",`{
                  "delay": 3000,
                  "disableOnInteraction": false
                }`,1,"product-image-wrapper"],[1,"col-md-6","product-info"],[1,"customization"],[1,"customization-item","d-flex","justify-content-between","align-items-center"],[1,"text-titel"],[1,"customization-item"],[1,"text-muted","text-decoration-line-through","py-1","px-2"],[1,"text-danger","fw-bold","py-1","px-2"],[1,"star-rating","pb-2"],["class","fa fa-star cursor-pointer",3,"checked","click",4,"ngFor","ngForOf"],[1,"text-description","py-1","px-2"],[1,"customization-item","py-2","text-description"],[1,"summary"],[1,"d-flex","justify-content-between","fw-bold","mb-2","align-items-center"],[1,"text-titel","quantity"],[1,"mx-2",3,"click"],[1,"mx-5"],[1,"d-flex","justify-content-between","fw-bold","mb-4","align-items-center"],[1,"btn","btn-primary","w-100",3,"click"],[1,"mt-2","text-center"],["src","./assets/img/icon/pay.svg","alt","Visa","height","24",1,"m-1"],["src","./assets/img/icon/paypal.svg","alt","Visa","height","24",1,"m-1"],["src","./assets/img/icon/visa.svg","alt","Visa","height","24",1,"m-1"],[1,"col-md-12"],["alt","Thumbnail Image",3,"src"],[1,"fa","fa-star","cursor-pointer",3,"click"],[1,"out-of-stock"],[1,"fw-bold","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-3"],[1,"form-check-label","d-flex","align-items-center","gap-2"],["type","radio",3,"change","value","id","name","checked"],[1,"form-check-label",3,"for"],[3,"productId"],[1,"placeholder-box"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(a,n){if(a&1){let s=P();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),x(4,"b",5),o(5,"span",6),c(6),r(),x(7,"b",5),r()(),o(8,"div",7)(9,"swiper-container",8),b(10,Pt,2,1,"swiper-slide",null,V),r()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"h4",12),c(16),r()(),o(17,"div",13),h(18,kt,3,4,"span",14),o(19,"span",15),c(20),d(21,"translate"),r()(),o(22,"div",16),T(23,Tt,1,2,"i",17),c(24),r(),h(25,Vt,6,3,"div"),o(26,"div",11)(27,"span",18),c(28),r()(),b(29,Mt,6,1,"div",19,V),r(),o(31,"div",20)(32,"div",21)(33,"span"),c(34),d(35,"translate"),r(),o(36,"span",22)(37,"a",23),v("click",function(){return g(s),C(n.increment())}),c(38,"+"),r(),o(39,"span",24),c(40),r(),o(41,"a",23),v("click",function(){return g(s),C(n.decrement())}),c(42,"-"),r()()(),o(43,"div",25)(44,"span"),c(45),d(46,"translate"),r(),o(47,"span",12),c(48),d(49,"translate"),r()(),o(50,"button",26),v("click",function(){return g(s),C(n.addToCart())}),c(51),d(52,"translate"),r(),o(53,"div",27),x(54,"img",28)(55,"img",29)(56,"img",30),r()()(),o(57,"div",31),fe(58,Ft,1,1)(59,At,2,0),ve(60,58,It,null,59),ge(0,-1),r()()(),x(62,"hr",24)(63,"app-reviews-section"),T(64,Dt,1,1,"ng-template",null,0,ye)}a&2&&(i(6),u(n.product.name.local),i(4),E(n.product.images),i(6),u(n.product.name.local),i(2),S(n.product.priceBeforeDiscount!=null&&n.product.priceBeforeDiscount>0?18:-1),i(2),R(" ",n.product.price," ",p(21,15,"general.JOD")," "),i(3),_("ngForOf",n.stars),i(),f("(",n.product.averageRating,"/5) "),i(),S(n.product.count==0?25:-1),i(3),u(n.product.description.local),i(),E(n.keyAttributes),i(5),f("",p(35,17,"general.quantity"),":"),i(6),u(n.item.quantity),i(5),f("",p(46,19,"general.total"),":"),i(3),R(" ",p(49,21,"general.JOD")," ",n.item.quantity*(n.product.price??0)),i(3),f(" ",p(52,23,"product.order-now")," "))},dependencies:[we,D,A,W,B],styles:['@charset "UTF-8";.fa-star[_ngcontent-%COMP%]{color:#ccc;cursor:pointer;transition:color .2s}.fa-star.checked[_ngcontent-%COMP%]{color:#ffc107}.fa-star[_ngcontent-%COMP%]:hover{color:#ffdb58}']})};var Ue=[{path:":id/product-category",component:K},{path:":id/product-category/:productCategoryId",component:K},{path:":id/product-category/:productCategoryId/product",component:Y},{path:":id/product-category/:productCategoryId/product/:productId",component:oe}];$e();var Je=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_e({type:t});static \u0275inj=pe({imports:[U,Pe.forChild(Ue),Z,A,W,G,j]})};export{W as a,Y as b,Je as c};
