import{a as ke}from"./chunk-HK3HW3O5.js";import{a as Ye}from"./chunk-HUH4PWLI.js";import{a as Ve,c as Le}from"./chunk-HWJPYUMK.js";import{a as Re}from"./chunk-RUSLR4JQ.js";import{c as Te}from"./chunk-UFMJD2HG.js";import{a as Q}from"./chunk-4SZVJJ64.js";import{d as Pe}from"./chunk-JRXI3A3X.js";import{a as Ze}from"./chunk-6LNDXUKF.js";import"./chunk-V35TUC5H.js";import"./chunk-KU6GPCNL.js";import{A as j,B as ve,C as _e,D as q,E as Me,Fa as Ae,G as xe,H as De,I as we,J as Ie,M as Ee,Oa as X,Qa as Ne,Sa as G,Xa as Oe,Za as Be,b as fe,cb as Fe,e as W,f as ye,n as Ce,q as B,r as be,w as J,z as Se}from"./chunk-S3BQNW4Q.js";import{Ea as ae,Hc as c,Ic as u,Jb as N,Kb as T,Pb as g,Qb as s,Rb as o,Rc as ge,Sb as v,Sc as p,Tc as he,Vb as me,Xa as r,Z as E,Zb as U,ab as re,ba as M,bb as oe,cb as se,cc as _,db as le,ec as V,ga as C,ha as b,ib as de,ka as te,mc as ce,nc as ue,ob as S,oc as O,pb as A,qa as ie,sb as Y,sc as m,tb as pe,tc as f,uc as y,wa as Z,xa as ne,xc as x,yc as D,zc as w}from"./chunk-VUDVN56Y.js";import{d as ee}from"./chunk-4CLCTAJ7.js";var z=class extends Ne{date;groupBy};var I=(t=>(t[t.years=0]="years",t[t.month=1]="month",t[t.week=2]="week",t[t.day=3]="day",t))(I||{});var Xe=["chart"],Ue=(()=>{let n=class n{constructor(){this.chart=p(),this.annotations=p(),this.colors=p(),this.dataLabels=p(),this.series=p(),this.stroke=p(),this.labels=p(),this.legend=p(),this.markers=p(),this.noData=p(),this.parsing=p(),this.fill=p(),this.tooltip=p(),this.plotOptions=p(),this.responsive=p(),this.xaxis=p(),this.yaxis=p(),this.forecastDataPoints=p(),this.grid=p(),this.states=p(),this.title=p(),this.subtitle=p(),this.theme=p(),this.autoUpdateSeries=p(!0),this.chartReady=ge(),this.chartInstance=ie(null),this.chartElement=he.required("chart"),this.ngZone=M(oe),this.isBrowser=ye(M(ae)),this._destroyed=!1,this._injector=M(te),this.waitingForConnectedRef=null}ngOnChanges(e){this.isBrowser&&this.hydrate(e)}ngOnDestroy(){this.destroy(),this._destroyed=!0}get isConnected(){return this.chartElement()?.nativeElement.isConnected}hydrate(e){if(this.waitingForConnectedRef)return;if(this.chartInstance()&&this.autoUpdateSeries()&&Object.keys(e).filter(l=>l!=="series").length===0){this.updateSeries(this.series(),!0);return}le({read:()=>this.createElement()},{injector:this._injector})}createElement(){return ee(this,null,function*(){let{default:e}=yield import("./chunk-SGHROPTK.js");if(window.ApexCharts||=e,this._destroyed)return;if(!this.isConnected){this.waitForConnected();return}let t={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(d=>{let k=this[d]();k&&(t[d]=k)}),this.destroy();let h=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,t));this.chartInstance.set(h),this.render(),this.chartReady.emit({chartObj:h})})}render(){if(this.isConnected)return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render());this.waitForConnected()}updateOptions(e,t,l,h){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,t,l,h))}updateSeries(e,t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,t))}appendSeries(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,t))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,t))}toggleDataPointSelection(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,t))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,t,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,t,l))}addYaxisAnnotation(e,t,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,t,l))}addPointAnnotation(e,t,l){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,t,l))}removeAnnotation(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,t))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}waitForConnected(){this.waitingForConnectedRef||(this.waitingForConnectedRef=se({read:()=>{this.isConnected&&(this.waitingForConnectedRef.destroy(),this.waitingForConnectedRef=null,this.createElement())}},{injector:this._injector}))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["apx-chart"]],viewQuery:function(t,l){t&1&&ce(l.chartElement,Xe,5),t&2&&ue()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],parsing:[1,"parsing"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[Z],decls:2,vars:0,consts:[["chart",""]],template:function(t,l){t&1&&me(0,"div",null,0)},encapsulation:2,changeDetection:0});let i=n;return i})();var We=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=A({type:n}),n.\u0275inj=E({});let i=n;return i})();var R=class i extends Fe{data=[];salesData=[];labels=[];labelType=I[0];chartSeries=[];chartDetails={type:"line",height:350};xAxis={categories:[]};chartTitle={text:""};ngOnChanges(n){this.data&&this.data.length>0&&(this.salesData=this.data?.map(a=>a.totalSales)||[],this.labels=this.labelType===I[0]?this.data?.map(a=>new Date(a.date).getFullYear().toString())||[]:this.data?.map(a=>new Intl.DateTimeFormat(localStorage.getItem(Ce.language_KEY)??"ar",{month:"long"}).format(new Date(a.date)))||[],this.chartSeries=[{name:this.translate.instant("general.number-sales"),data:this.salesData}],this.xAxis={categories:this.labels},this.chartTitle={text:this.labelType===I[0]?this.translate.instant("general.sales-by-year"):this.translate.instant("general.sales-by-month")})}static \u0275fac=(()=>{let n;return function(e){return(n||(n=ne(i)))(e||i)}})();static \u0275cmp=S({type:i,selectors:[["app-chart-line"]],inputs:{data:"data",salesData:"salesData",labels:"labels",labelType:"labelType"},features:[Y,Z],decls:1,vars:4,consts:[[3,"series","chart","xaxis","title"]],template:function(a,e){a&1&&v(0,"apx-chart",0),a&2&&g("series",e.chartSeries)("chart",e.chartDetails)("xaxis",e.xAxis)("title",e.chartTitle)},dependencies:[We,Ue],encapsulation:2})};function He(i,n){if(i&1&&(s(0,"option",4),m(1),o()),i&2){let a=n.$implicit;g("value",a),r(),f(a)}}var P=class i{years=[2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100];yearChange=new re;selectedYear=new Date().getFullYear();selectYear(){this.yearChange.emit(this.selectedYear)}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=S({type:i,selectors:[["app-select-year"]],outputs:{yearChange:"yearChange"},decls:6,vars:5,consts:[[1,"form-control","my-2"],["for","year"],["id","year",1,"mx-1",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,e){a&1&&(s(0,"div",0)(1,"label",1),m(2),c(3,"translate"),o(),s(4,"select",2),w("ngModelChange",function(l){return D(e.selectedYear,l)||(e.selectedYear=l),l}),_("change",function(){return e.selectYear()}),pe(5,He,2,2,"option",3),o()()),a&2&&(r(2),y(" ",u(3,3,"general.select-year")," : "),r(2),x("ngModel",e.selectedYear),r(),g("ngForOf",e.years))},dependencies:[be,X,De,we,xe,j,q,W,fe,B],encapsulation:2})};function Je(i,n){if(i&1&&v(0,"app-chart-line",10),i&2){let a=V();g("data",a.data)("labelType",a.groupByChartResult[a.groupByChartResult.years.valueOf()])}}function $e(i,n){if(i&1&&v(0,"app-chart-line",10),i&2){let a=V(2);g("data",a.data)("labelType",a.groupByChartResult[a.groupByChartResult.month.valueOf()])}}function et(i,n){i&1&&(s(0,"P",12),m(1),c(2,"translate"),o()),i&2&&(r(),y(" ",u(2,1,"general.no-data")))}function tt(i,n){if(i&1){let a=U();s(0,"app-select-year",11),_("yearChange",function(t){C(a);let l=V();return b(l.updateChart(t))}),o(),N(1,$e,1,2,"app-chart-line",10)(2,et,3,3,"P",12)}if(i&2){let a=V();r(),T(a.data.length>0?1:2)}}var H=class i{selectedYear;cartItemService=M(ke);userService=M(Oe);productService=M(Re);data=[];filter=new z;groupByChartResult=I;totalUsers=0;totalProducts=0;constructor(){this.filter.groupBy=0}ngOnInit(){this.getSalesVolume(),this.getTotalProduct(),this.getTotalUsers()}getSalesVolume(){this.cartItemService.getSalesVolume(this.filter).subscribe(n=>{this.data=n.data??[]})}getTotalUsers(){this.userService.getTotalUsers(new Be).subscribe(n=>{this.totalUsers=n.data??0})}getTotalProduct(){this.productService.getTotalProduct(new Te).subscribe(n=>{this.totalProducts=n.data??0})}setGroupByAndLoad(n){this.filter.groupBy=n,this.getSalesVolume()}updateChart(n){this.filter.date=new Date(n).toISOString(),this.getSalesVolume()}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=S({type:i,selectors:[["app-dashboard"]],standalone:!1,decls:33,vars:15,consts:[[1,"row"],[1,"col-6","col-sm-4","col-md-3","col-lg-2"],[1,"d-flex","my-1","list"],[1,"mx-1"],[1,"menu-icon"],[1,"text-titel-cart-dashbord"],[1,"list"],[1,"btn-container"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-secondary","mx-2",3,"click"],[3,"data","labelType"],[3,"yearChange"],[1,""]],template:function(a,e){a&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),m(5,"groups"),o()(),s(6,"div")(7,"div",5),m(8),c(9,"translate"),o(),s(10,"div"),m(11),o()()()(),s(12,"div",1)(13,"div",2)(14,"div",3)(15,"mat-icon",4),m(16,"add_shopping_cart"),o()(),s(17,"div")(18,"div",5),m(19),c(20,"translate"),o(),s(21,"div"),m(22),o()()()()(),s(23,"div",6)(24,"div",7)(25,"button",8),_("click",function(){return e.setGroupByAndLoad(e.groupByChartResult.years)}),m(26),c(27,"translate"),o(),s(28,"button",9),_("click",function(){return e.setGroupByAndLoad(e.groupByChartResult.month)}),m(29),c(30,"translate"),o()(),N(31,Je,1,2,"app-chart-line",10)(32,tt,3,1),o()),a&2&&(r(8),f(u(9,7,"general.users")),r(3),f(e.totalUsers),r(8),f(u(20,9,"general.products-sold")),r(3),f(e.totalProducts),r(4),y(" ",u(27,11,"general.year")," "),r(3),y(" ",u(30,13,"general.month")," "),r(2),T(e.filter.groupBy===e.groupByChartResult.years&&e.data.length>0?31:e.filter.groupBy===e.groupByChartResult.month?32:-1))},dependencies:[Ae,R,P,B],encapsulation:2})};function it(i,n){i&1&&(m(0),c(1,"translate")),i&2&&y(" ",u(1,1,"slider.add-slider")," ")}function nt(i,n){i&1&&(m(0),c(1,"translate")),i&2&&y(" ",u(1,1,"slider.edit-slider")," ")}function at(i,n){i&1&&(s(0,"small",21),m(1),c(2,"translate"),o()),i&2&&(r(),y(" ",u(2,1,"slider.slider-image")," "))}var L=class i extends Ze{constructor(a){super(a,Ve);this.sliderService=a}imageError=!1;processData(){if(this.entity.images.length>1){this.imageError=!0;return}else this.imageError=!1}static \u0275fac=function(e){return new(e||i)(de(Le))};static \u0275cmp=S({type:i,selectors:[["app-slider"]],standalone:!1,features:[Y],decls:45,vars:33,consts:[["sliderForm","ngForm"],["titleEn","ngModel"],["descriptionAr","ngModel"],["descriptionEn","ngModel"],["images","ngModel"],[1,"container","manage"],[1,"title"],[3,"ngSubmit"],[1,"row"],[1,"form-group","col-6"],["for","titleEn"],["type","text","id","titleEn","required","","name","titleEn","maxlength","40",1,"form-control",3,"ngModelChange","ngModel"],[3,"control"],["for","titleAr"],["type","text","id","titleAr","required","","name","titleAr","maxlength","40",1,"form-control",3,"ngModelChange","ngModel"],["for","descriptionAr"],["id","descriptionEn","name","descriptionAr","maxlength","100",1,"form-control",3,"ngModelChange","rows","ngModel"],["for","descriptionEn"],["id","descriptionEn","name","descriptionEn","maxlength","100",1,"form-control",3,"ngModelChange","rows","ngModel"],[1,"form-group"],["name","images","required","",3,"ngModelChange","aspectRatio","ngModel"],[1,"text-danger"],[1,"btn-container"],[1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary","mx-2",3,"disabled"]],template:function(e,t){if(e&1){let l=U();s(0,"div",5)(1,"h3",6),N(2,it,2,3)(3,nt,2,3),o(),s(4,"form",7,0),_("ngSubmit",function(){C(l);let d=O(5);return b(t.save(d))}),s(6,"div",8)(7,"div",9)(8,"label",10),m(9),c(10,"translate"),o(),s(11,"input",11,1),w("ngModelChange",function(d){return C(l),D(t.entity.title.english,d)||(t.entity.title.english=d),b(d)}),o(),v(13,"app-form-error",12),o(),s(14,"div",9)(15,"label",13),m(16),c(17,"translate"),o(),s(18,"input",14),w("ngModelChange",function(d){return C(l),D(t.entity.title.arabic,d)||(t.entity.title.arabic=d),b(d)}),o()(),s(19,"div",9)(20,"label",15),m(21),c(22,"translate"),o(),s(23,"textarea",16,2),w("ngModelChange",function(d){return C(l),D(t.entity.description.arabic,d)||(t.entity.description.arabic=d),b(d)}),o(),v(25,"app-form-error",12),o(),s(26,"div",9)(27,"label",17),m(28),c(29,"translate"),o(),s(30,"textarea",18,3),w("ngModelChange",function(d){return C(l),D(t.entity.description.english,d)||(t.entity.description.english=d),b(d)}),o(),v(32,"app-form-error",12),o(),s(33,"div",19)(34,"app-multi-image-upload",20,4),w("ngModelChange",function(d){return C(l),D(t.entity.images,d)||(t.entity.images=d),b(d)}),o(),v(36,"app-form-error",12),N(37,at,3,3,"small",21),o(),s(38,"div",22)(39,"button",23),_("click",function(){return C(l),b(t.goBack())}),m(40),c(41,"translate"),o(),s(42,"button",24),m(43),c(44,"translate"),o()()()()()}if(e&2){let l=O(12),h=O(24),d=O(31),k=O(35);r(2),T(t.isAdd?2:3),r(7),f(u(10,21,"general.titleEn")),r(2),x("ngModel",t.entity.title.english),r(2),g("control",l),r(3),f(u(17,23,"general.titleAr")),r(2),x("ngModel",t.entity.title.arabic),r(3),f(u(22,25,"general.descriptionAr")),r(2),g("rows",3),x("ngModel",t.entity.description.arabic),r(2),g("control",h),r(3),f(u(29,27,"general.descriptionEn")),r(2),g("rows",3),x("ngModel",t.entity.description.english),r(2),g("control",d),r(2),g("aspectRatio",16/9),x("ngModel",t.entity.images),r(2),g("control",k),r(),T(t.entity.images.length>1?37:-1),r(3),y(" ",u(41,29,"general.back")," "),r(2),g("disabled",t.entity.images.length>1),r(),y(" ",u(44,31,"general.save")," ")}},dependencies:[Me,Se,j,ve,Ie,Ee,q,_e,G,Q,B],encapsulation:2})};var rt=[{path:"",component:H},{path:"slider-manage",component:L},{path:"slider-manage/:id",component:L}],K=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=A({type:i});static \u0275inj=E({imports:[J.forChild(rt),J]})};Ye();var qe=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=A({type:i});static \u0275inj=E({imports:[W,X,K,R,P,G,Pe,Q]})};export{qe as DashboardModule};
