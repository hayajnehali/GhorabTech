<div class="container">
  <!-- Header and Sort -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <!-- Breadcrumb -->
    <div class="row w-100">
      <div class="col-12 my-4">
        <div class="row">
          <div class="col-md-10 col-sm-12">
            <nav class="navbar navbar-expand-lg mt-2">
              <div class="navbar-collapse">
                <ul class="">
                  <li
                    class="nav-item header__top__hover mx-2"
                    (click)="goToHome()"
                  >
                    <span>{{ "general.home" | translate }} > </span>
                  </li>
                  <li class="nav-item header__top__hover mx-2" *ngIf="hasData">
                    <span>{{ dataSource.data[0].category.name.local }}</span>
                  </li>
                  <!-- <li class="nav-item header__top__hover mx-2">
                    <span>{{ "general.contactus" | translate }}</span>
                  </li> -->
                </ul>
              </div>
            </nav>
          </div>
          <div class="col-md-2 col-sm-12">
            <nav class="navbar navbar-expand-lg mt-2 border">
              <div class="navbar-collapse">
                <ul class="navbar-nav">
                  <li class="nav-item header__top__hover mx-2">
                    <span>{{ "general.filter-by" | translate }}</span>
                    <ul class="dropdown-menu-list">
                      <li>
                        <a
                          class="dropdown-item"
                          (click)="onSort('name', orderBy.Asc)"
                        >
                          {{ "general.A-Z" | translate }}
                        </a>
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          (click)="onSort('name', orderBy.Desc)"
                        >
                          {{ "general.Z-A" | translate }}
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
      <div class="col-md-0 col-sm-0"></div>
      <div class="col-md-12 col-sm-12 category-section">
        <!-- Description -->
        @if(hasData){
        <p class="text-muted">
          {{ dataSource.data[0].category.description?.local }}
        </p>
        }
        <!-- Products Grid -->
        @if(dataSource.data.length > 0){
        <div class="row g-4">
          @for (productCategory of dataSource.data; track $index) {
          <div class="col-6 col-sm-4 col-md-3 col-lg-3">
            <div
              class="product-card border-0"
              [routerLink]="[productCategory.id, 'product']"
            >
              <div>
                <swiper-container
                  slides-per-view="1"
                  space-between="20"
                  speed="3000"
                  autoplay='{
                  "delay": 3000,
                  "disableOnInteraction": false
                }'
                >
                  @for (item of productCategory.images; track $index) { @if(item
                  && item?.guidName){
                  <swiper-slide class="category-image-wrapper">
                    <app-image
                      [src]="item.guidName"
                      [class]="'card-img-top main-img'"
                      alt="product.name"
                    ></app-image>
                  </swiper-slide>
                  } }
                </swiper-container>
              </div>
              <div class="card-body text-center">
                <p class="text-truncate fs-9 fs-sm-5 fs-md-4 fs-lg-3">
                  {{ productCategory.name.local }}
                </p>
              </div>
            </div>
          </div>
          }
        </div>
        }
      </div>
      <div class="col-12">
        @if(hasData){
        <mat-paginator
          class="mat-paginator"
          [length]="totalNumberOf"
          (page)="pageChanged($event)"
          [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
        ></mat-paginator>
        }
      </div>
    </div>
  </div>
</div>
