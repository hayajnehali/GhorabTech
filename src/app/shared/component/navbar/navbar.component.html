@if(responsiveService.isMobile()){
<div class="sidenavv" mode="side" opened> 
  <div class="mat-nav-list">
    <a mat-list-item>
      <app-search
        class="search-wrapper flex-grow-1 me-2 w-100 mb-2"
      ></app-search>
    </a>

    <a
      mat-list-item
      routerLink="/user"
      (click)="spinnerService.toggleSideBar()"
    >
      <mat-icon matListIcon>home</mat-icon>
      {{ "general.home" | translate }}
    </a>

    <a mat-list-item>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-icon>remove</mat-icon>
          <span> {{ "category.category" | translate }}</span>
        </mat-expansion-panel-header>

        @for (item of categoryResult; track $index) {
        <a
          mat-list-item
          (click)="spinnerService.toggleSideBar()"
          [routerLink]="['/user', 'category', item.id, 'product-category']"
        >
          <p class="text-description">{{ item.name.local }}</p>
        </a>
        }
      </mat-expansion-panel>
    </a>

    <a mat-list-item>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-icon>remove</mat-icon>
          <span> {{ "category.subCategory" | translate }}</span>
        </mat-expansion-panel-header>

        @for (item of productCategories; track $index) {
        <a
          mat-list-item
          (click)="spinnerService.toggleSideBar()"
          [routerLink]="[
            '/user',
            'category',
            item.categoryId,
            'product-category',
            item.id,
            'product'
          ]"
        >
          <p class="text-description">{{ item.name.local }}</p>
        </a>
        }
      </mat-expansion-panel>
    </a>

    <a mat-list-item (click)="spinnerService.toggleSideBar()">
      <app-language-button></app-language-button>
    </a>
    <a mat-list-item (click)="spinnerService.toggleSideBar()">
      <app-login-logout-button></app-login-logout-button>
    </a>

    <a
      mat-list-item
      class="d-inline-flex align-items-center"
      (click)="spinnerService.toggleSideCart() ; spinnerService.toggleSideBar()"
    >
      <mat-icon class="menu-icon">shopping_cart</mat-icon>
      <span
        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger text-light"
      >
        {{ cartCount }} </span
      >{{ "general.JOD" | translate }} {{ cartTotal }}
    </a>
  </div>
</div>
}@else {
<nav class="mt-2">
  <div class="navbar-list d-flex justify-content-center">
    
    <div [matMenuTriggerFor]="category" class="nav_bar__option mx-3">
      <span>{{ "category.category" | translate }}</span>
    </div>

    <div [matMenuTriggerFor]="subCategory" class="nav_bar__option mx-3">
      <span>{{ "category.subCategory" | translate }}</span>
    </div>

    <mat-menu #category="matMenu" backdropClass="custom-backdrop" class="premium-menu">
      @for (item of categoryResult; track item.id) {
        <a mat-menu-item [routerLink]="['/user', 'category', item.id, 'product-category']">
          {{ item.name.local }}
        </a>
      }
    </mat-menu>

    <mat-menu #subCategory="matMenu" class="premium-menu">
      @for (item of productCategories; track item.id) {
        <a mat-menu-item [routerLink]="['/user', 'category', item.categoryId, 'product-category', item.id, 'product']">
          {{ item.name.local }}
        </a>
      }
    </mat-menu>

  </div>
</nav>

}
