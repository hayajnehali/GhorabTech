import{Pa as u,bb as d,ta as c}from"./chunk-IHEU7YP6.js";import{hc as o,ib as a,ic as n,jc as l,pb as r,rb as s}from"./chunk-B6JOQ4YJ.js";var f=class h extends d{constructor(t,e){super();this.service=t;this.filterT=e;this.filter=new e}dataSource=new c;displayedColumns=[];filter={};loading=!1;totalNumberOf=0;pageSizeOptions=[5,10,20,40,80,100];paginator;ngOnInit(){this.loadData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}loadData(){this.loading=!1;let t=this.service.getAll(this.filter).subscribe({next:e=>{e.data&&(this.dataSource.data=e.data),this.totalNumberOf=e.totalNumberOf,this.loading=!0},complete:()=>{this.processAfterComplete()},error:e=>{}});this.subscribe(t)}processAfterComplete(){}delete(t){let e=this.service.delete(t).subscribe(()=>this.loadData());this.subscribe(e)}pageChanged(t){this.filter.pageIndex=t.pageIndex+1,this.filter.pageSize=t.pageSize,this.loadData()}get hasData(){return this.dataSource?.data?.length>0}goBack(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}search(){this.loadData()}reset(){this.filter=new this.filterT,this.loadData()}static \u0275fac=function(e){a()};static \u0275dir=r({type:h,viewQuery:function(e,p){if(e&1&&o(u,5),e&2){let i;n(i=l())&&(p.paginator=i.first)}},features:[s]})};export{f as a};
