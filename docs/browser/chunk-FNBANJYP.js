import{a as de}from"./chunk-WAUMX622.js";import{a as Pe}from"./chunk-XUKVIDCL.js";import{d as He}from"./chunk-PC7FF4E3.js";import{a as je}from"./chunk-HUH4PWLI.js";import{a as Q}from"./chunk-6N3ARBRY.js";import{d as Ke}from"./chunk-XHVGSRHH.js";import{a as D}from"./chunk-RUSLR4JQ.js";import{b as De,c as Le}from"./chunk-UFMJD2HG.js";import{a as ze}from"./chunk-6XWWO4P3.js";import{c as Oe,d as A}from"./chunk-JRXI3A3X.js";import{b as le}from"./chunk-KU6GPCNL.js";import{a as O}from"./chunk-YEOBXEDG.js";import{A as Me,D as Be,Ea as Ae,Fa as Z,M as Fe,Oa as G,Qa as Re,Sa as Ne,Wa as $e,b as Ee,c as q,cb as We,e as U,j as Ie,q as M,r as ke,v as J,w as Te,z as Ve}from"./chunk-S3BQNW4Q.js";import{Ac as we,Dc as j,Ec as H,Fb as ve,Gb as Ce,Hc as d,Ic as p,Jb as h,Kb as S,Kc as be,Lb as V,Nb as b,Ob as E,Pb as u,Qb as o,Rb as r,Sb as x,Tb as y,Ub as I,Vb as ce,Xa as i,Y as pe,Z as se,Zb as k,aa as ue,ba as W,cc as g,ec as l,ga as v,ha as C,ib as B,ob as T,oc as me,pb as _e,qa as fe,qc as xe,rc as K,sb as F,sc as c,tb as P,tc as f,ub as ge,uc as _,vc as R,xc as he,yc as Se,zc as ye}from"./chunk-VUDVN56Y.js";var Qe=t=>[t,"product"],Xe=()=>[5,10,20];function Ye(t,m){if(t&1&&(o(0,"li",14)(1,"span"),c(2),r()()),t&2){let e=l();i(2),f(e.dataSource.data[0].category.name.local)}}function et(t,m){if(t&1&&(o(0,"p",19),c(1),r()),t&2){let e=l();i(),_(" ",e.dataSource.data[0].category.description==null?null:e.dataSource.data[0].category.description.local," ")}}function tt(t,m){if(t&1&&(o(0,"swiper-slide",28),x(1,"app-image",29),r()),t&2){let e=l().$implicit;i(),K("card-img-top main-img"),u("src",e.guidName)}}function it(t,m){if(t&1&&h(0,tt,2,3,"swiper-slide",28),t&2){let e=m.$implicit;S(e&&(e!=null&&e.guidName)?0:-1)}}function nt(t,m){if(t&1&&(o(0,"div",23)(1,"div",24)(2,"div")(3,"swiper-container",25),b(4,it,1,1,null,null,V),r()(),o(6,"div",26)(7,"p",27),c(8),r()()()()),t&2){let e=m.$implicit;i(),u("routerLink",H(2,Qe,e.id)),i(3),E(e.images),i(4),_(" ",e.name.local," ")}}function ot(t,m){if(t&1&&(o(0,"div",20),b(1,nt,9,4,"div",23,V),r()),t&2){let e=l();i(),E(e.dataSource.data)}}function rt(t,m){if(t&1){let e=k();o(0,"mat-paginator",30),g("page",function(n){v(e);let s=l();return C(s.pageChanged(n))}),r()}if(t&2){let e=l();u("length",e.totalNumberOf)("pageSizeOptions",j(2,Xe))}}var z=class t extends O{constructor(e){super(e,Oe);this.productService=e}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.filter.CategoryId=this.activatedRoute.snapshot.paramMap.get("id")??null,this.loadData()})}goToHome(){this.router.navigate(["/"])}goToProductCategory(){this.router.url.includes("product-category")&&this.router.navigate(["/"])}static \u0275fac=function(a){return new(a||t)(B(ze))};static \u0275cmp=T({type:t,selectors:[["app-product-category-section"]],standalone:!1,features:[F],decls:37,vars:16,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"row","w-100"],[1,"col-12","my-4"],[1,"row"],[1,"col-md-10","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2"],[1,"navbar-collapse"],[1,""],[1,"nav-item","header__top__hover","mx-2",3,"click"],["class","nav-item header__top__hover mx-2",4,"ngIf"],[1,"col-md-2","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2","border"],[1,"navbar-nav"],[1,"nav-item","header__top__hover","mx-2"],[1,"dropdown-menu-list"],[1,"dropdown-item",3,"click"],[1,"col-md-0","col-sm-0"],[1,"col-md-12","col-sm-12","category-section"],[1,"text-muted"],[1,"row","g-4"],[1,"col-12"],["showFirstLastButtons","",1,"mat-paginator",3,"length","pageSizeOptions"],[1,"col-6","col-sm-4","col-md-3","col-lg-3"],[1,"product-card","border-0",3,"routerLink"],["slides-per-view","1","space-between","20","speed","3000","autoplay",`{
                  "delay": 3000,
                  "disableOnInteraction": false
                }`],[1,"card-body","text-center"],[1,"text-truncate","fs-9","fs-sm-5","fs-md-4","fs-lg-3"],[1,"category-image-wrapper"],["alt","product.name",3,"src"],["showFirstLastButtons","",1,"mat-paginator",3,"page","length","pageSizeOptions"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"nav",6)(7,"div",7)(8,"ul",8)(9,"li",9),g("click",function(){return n.goToHome()}),o(10,"span"),c(11),d(12,"translate"),r()(),P(13,Ye,3,1,"li",10),r()()()(),o(14,"div",11)(15,"nav",12)(16,"div",7)(17,"ul",13)(18,"li",14)(19,"span"),c(20),d(21,"translate"),r(),o(22,"ul",15)(23,"li")(24,"a",16),g("click",function(){return n.onSort("name",n.orderBy.Asc)}),c(25),d(26,"translate"),r()(),o(27,"li")(28,"a",16),g("click",function(){return n.onSort("name",n.orderBy.Desc)}),c(29),d(30,"translate"),r()()()()()()()()()(),x(31,"div",17),o(32,"div",18),h(33,et,2,1,"p",19),h(34,ot,3,0,"div",20),r(),o(35,"div",21),h(36,rt,1,3,"mat-paginator",22),r()()()()),a&2&&(i(11),_("",p(12,8,"general.home")," > "),i(2),u("ngIf",n.hasData),i(7),f(p(21,10,"general.filter-by")),i(5),_(" ",p(26,12,"general.A-Z")," "),i(4),_(" ",p(30,14,"general.Z-A")," "),i(4),S(n.hasData?33:-1),i(),S(n.dataSource.data.length>0?34:-1),i(2),S(n.hasData?36:-1))},dependencies:[q,J,Ae,A,M],encapsulation:2})};var ct=()=>["/"],mt=()=>["../../"],lt=t=>[t];function dt(t,m){if(t&1&&(o(0,"li",8)(1,"span"),c(2),r()()),t&2){let e=l(2);u("routerLink",j(2,mt)),i(2),_("",e.dataSource.data[0].productCategory.category.name.local," >")}}function pt(t,m){if(t&1&&(o(0,"span"),c(1),r()),t&2){let e=l(2);i(),f(e.dataSource.data[0].productCategory.name.local)}}function st(t,m){if(t&1&&(P(0,dt,3,3,"li",20),o(1,"li",9),P(2,pt,2,1,"span",21),r()),t&2){let e=l();u("ngIf",e.hasData),i(2),u("ngIf",e.dataSource.data[0]&&e.dataSource.data[0].productCategory)}}function ut(t,m){if(t&1&&(o(0,"li",9)(1,"span"),c(2),d(3,"translate"),r()()),t&2){let e=l();i(2),R("",p(3,2,"general.result-for")," ",e.filter.name," >")}}function ft(t,m){if(t&1&&(o(0,"div",31),c(1),r()),t&2){let e=l(2).$implicit;i(),_(" ",e.discountRated," ")}}function _t(t,m){if(t&1&&(o(0,"swiper-slide",25),P(1,ft,2,1,"div",29),x(2,"app-image",30),r()),t&2){let e=m.$implicit,a=l().$implicit;i(),u("ngIf",a.discountRated),i(),K("card-img-top main-img"),u("src",we(e.guidName))}}function gt(t,m){if(t&1&&(o(0,"div",22)(1,"div",23)(2,"div")(3,"swiper-container",24),b(4,_t,3,5,"swiper-slide",25,V),r()(),o(6,"div",26)(7,"p",27),c(8),r(),o(9,"div",28),c(10),d(11,"translate"),r()()()()),t&2){let e=m.$implicit;i(),u("routerLink",H(6,lt,e.id)),i(3),E(e.images),i(4),_(" ",e.name.local," "),i(2),R(" ",p(11,4,"general.JOD")," ",e.price," ")}}function vt(t,m){if(t&1&&(o(0,"div",17),b(1,gt,12,8,"div",22,V),r()),t&2){let e=l();i(),E(e.dataSource.data)}}var ee=class t extends O{constructor(e){super(e,Le);this.productService=e}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.filter.productCategoryId=this.activatedRoute.snapshot.paramMap.get("productCategoryId")??null,this.filter.name=this.activatedRoute.snapshot.paramMap.get("nameOfProduct"),this.loadData()})}static \u0275fac=function(a){return new(a||t)(B(D))};static \u0275cmp=T({type:t,selectors:[["app-product-section"]],standalone:!1,features:[F],decls:45,vars:24,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"row","w-100"],[1,"col-12","my-4"],[1,"row"],[1,"col-md-10","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2"],[1,"navbar-collapse"],[1,"nav-item","header__top__hover","mx-2",3,"routerLink"],[1,"nav-item","header__top__hover","mx-2"],[1,"col-md-2","col-sm-12"],[1,"navbar","navbar-expand-lg","mt-2","border"],[1,"navbar-nav"],[1,"dropdown-menu-list"],[1,"dropdown-item",3,"click"],[1,"col-md-0","col-sm-0"],[1,"col-md-12","col-sm-12"],[1,"row","g-4","category-section"],[1,"col-12"],["showFirstLastButtons","",3,"page","length","pageSizeOptions"],["class","nav-item header__top__hover mx-2",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"col-6","col-sm-4","col-md-3","col-lg-3"],[1,"product-card","border-0",3,"routerLink"],["slides-per-view","1","space-between","20","speed","3000","autoplay",`{
                  "delay": 3000,
                  "disableOnInteraction": false
                }`,1,"my-swiper"],[1,"product-image-wrapper"],[1,"card-body","text-center"],[1,"text-truncate","fs-9","fs-sm-5","fs-md-4","fs-lg-3"],[1,"price"],["class","discountRated",4,"ngIf"],["alt","product.name",3,"src"],[1,"discountRated"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"nav",6)(7,"div",7)(8,"ul")(9,"li",8)(10,"span"),c(11),d(12,"translate"),r()(),h(13,st,3,2)(14,ut,4,4,"li",9),r()()()(),o(15,"div",10)(16,"nav",11)(17,"div",7)(18,"ul",12)(19,"li",9)(20,"span"),c(21),d(22,"translate"),r(),o(23,"ul",13)(24,"li")(25,"a",14),g("click",function(){return n.onSort("price",n.orderBy.Asc)}),c(26),d(27,"translate"),r()(),o(28,"li")(29,"a",14),g("click",function(){return n.onSort("price",n.orderBy.Desc)}),c(30),d(31,"translate"),r()(),o(32,"li")(33,"a",14),g("click",function(){return n.onSort("name",n.orderBy.Asc)}),c(34),d(35,"translate"),r()(),o(36,"li")(37,"a",14),g("click",function(){return n.onSort("name",n.orderBy.Desc)}),c(38),d(39,"translate"),r()()()()()()()()()(),x(40,"div",15),o(41,"div",16),h(42,vt,3,0,"div",17),r(),o(43,"div",18)(44,"app-pagination",19),g("page",function(w){return n.pageChanged(w)}),r()()()()()),a&2&&(i(9),u("routerLink",j(23,ct)),i(2),_("",p(12,11,"general.home")," > "),i(2),S(n.filter.name==null||n.filter.name!=""?13:14),i(8),f(p(22,13,"general.filter-by")),i(5),_(" ",p(27,15,"general.price-low-high")," "),i(4),_(" ",p(31,17,"general.price-high-low")," "),i(4),_(" ",p(35,19,"general.A-Z")," "),i(4),_(" ",p(39,21,"general.Z-A")," "),i(4),S(n.dataSource.data.length>0?42:-1),i(2),u("length",n.totalNumberOf)("pageSizeOptions",n.pageSizeOptions))},dependencies:[q,J,A,Q,M],encapsulation:2})};var N=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-reviews-section"]],decls:40,vars:27,consts:[[1,"reviews-section","py-5","text-center"],[1,"container"],[1,"section-title","mb-3"],[1,"section-subtitle","mb-5"],[1,"review-box","mb-4","p-3","d-flex","align-items-center","shadow-sm","rounded"],["src","./assets/img/icon/facebook.svg","alt","Facebook","width","40",1,"me-3"],[1,"text-center","w-100"],[1,"fw-bold","mb-1"],[1,"stars","mb-1"],["src","./assets/img/icon/download.svg","alt","Google","width","40",1,"me-3"],[1,"delivery-info","mt-5"],[1,"fw-bold"],[1,"text-muted"]],template:function(e,a){e&1&&(y(0,"section",0)(1,"div",1)(2,"h3",2),c(3),d(4,"translate"),I(),y(5,"p",3),c(6),d(7,"translate"),I(),y(8,"div",4),ce(9,"img",5),y(10,"div",6)(11,"h5",7),c(12),d(13,"translate"),I(),y(14,"div",8),c(15," \u2B50\u2B50\u2B50\u2B50\u2B50 "),I(),y(16,"small"),c(17),d(18,"translate"),I()()(),y(19,"div",4),ce(20,"img",9),y(21,"div",6)(22,"h5",7),c(23),d(24,"translate"),I(),y(25,"div",8),c(26," \u2B50\u2B50\u2B50\u2B50\u2B50 "),I(),y(27,"small"),c(28),d(29,"translate"),I()()(),y(30,"div",10)(31,"h5",11),c(32),d(33,"translate"),I(),y(34,"p"),c(35),d(36,"translate"),I(),y(37,"small",12),c(38),d(39,"translate"),I()()()()),e&2&&(i(3),_(" ",p(4,9,"reviews-section.title")," "),i(3),_(" ",p(7,11,"reviews-section.subtitle")," "),i(6),f(p(13,13,"reviews-section.fb.title")),i(5),f(p(18,15,"reviews-section.fb.text")),i(6),f(p(24,17,"reviews-section.google.title")),i(5),f(p(29,19,"reviews-section.google.text")),i(4),f(p(33,21,"reviews-section.delivery.title")),i(3),f(p(36,23,"reviews-section.delivery.text")),i(3),f(p(39,25,"reviews-section.delivery.note")))},dependencies:[ke,M],styles:[".reviews-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#232d58;text-align:center;font-family:FontAwesome;font-weight:lighter;font-size:xx-large}.reviews-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#232d58}.reviews-section[_ngcontent-%COMP%]   .review-box[_ngcontent-%COMP%]{border-bottom:1px solid #232d58;color:#888}.reviews-section[_ngcontent-%COMP%]   .review-box[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{color:orange}.reviews-section[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem;color:#888}"]})};var te=class extends le{productId;comment;userName},ie=class extends le{productId;comment;userName;isEditing=!1},ne=class extends Re{};var oe=class t extends $e{constructor(m){super(m,"comment")}static \u0275fac=function(e){return new(e||t)(ue(Ie))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})};var St=(t,m)=>m.id;function yt(t,m){if(t&1){let e=k();o(0,"div",13)(1,"button",16),g("click",function(){v(e);let n=l().$implicit,s=l();return C(s.toggleEdit(n))}),o(2,"mat-icon"),c(3,"edit"),r()(),o(4,"button",17),g("click",function(){v(e);let n=l().$implicit,s=l();return C(s.deleteComment(n.id))}),o(5,"mat-icon"),c(6,"delete"),r()()()}}function wt(t,m){if(t&1){let e=k();o(0,"div",14),x(1,"textarea",18,1),o(3,"div",19)(4,"button",20),g("click",function(){v(e);let n=l().$implicit,s=l();return C(s.toggleEdit(n))}),o(5,"mat-icon"),c(6,"close"),r()(),o(7,"button",20),g("click",function(){v(e);let n=me(2),s=l().$implicit,w=l();return C(w.saveEdit(s,n.value))}),o(8,"mat-icon"),c(9,"check"),r()()()()}if(t&2){let e=l().$implicit;i(),u("value",e.comment)}}function bt(t,m){if(t&1&&(o(0,"p",15),c(1),r()),t&2){let e=l().$implicit;i(),f(e.comment)}}function Et(t,m){if(t&1&&(o(0,"div",4)(1,"div",9),c(2),r(),o(3,"div",10)(4,"div",11)(5,"span",12),c(6),r(),h(7,yt,7,0,"div",13),r(),h(8,wt,10,1,"div",14)(9,bt,2,1,"p",15),r()()),t&2){let e,a=m.$implicit,n=l();i(2),f(a.userName==null?null:a.userName.charAt(0)),i(4),f(a.userName),i(),S(n.authService.isAuthenticatedSignal()&&((e=n.authService.user())==null?null:e.certserialnumber)===a.createdBy?7:-1),i(),S(a.isEditing?8:9)}}var $=class t extends O{constructor(e){super(e,ne);this.commentService=e}comment=new ie;newCommentText=fe("");productService=W(D);productId=null;addComment(){this.authService.runWithAuth(()=>{if(!this.newCommentText().trim())return;let e=new te;e.productId=this.productId,e.userName=this.authService.user()?.userName,e.createdBy=this.authService.user()?.certserialnumber||"",e.comment=this.newCommentText(),this.commentService.create(e).subscribe({next:a=>{a.success&&(e.id=a.data?.id,this.dataSource.data.push(e),this.newCommentText.set(""))}})})}deleteComment(e){this.commentService.delete(e).subscribe({next:a=>{a.success&&(this.dataSource.data=this.dataSource.data.filter(n=>n.id!==e))},error:a=>{this.notificationService.showError(a)}})}toggleEdit(e){e.isEditing=!e.isEditing}saveEdit(e,a){this.authService.runWithAuth(()=>{a.trim()&&(e.comment=a,this.dataSource.data.find(n=>n.id===e.id).comment=a,this.dataSource.data.find(n=>n.id===e.id).isEditing=!1,this.commentService.update(e).subscribe({next:n=>{}}))})}static \u0275fac=function(a){return new(a||t)(B(oe))};static \u0275cmp=T({type:t,selectors:[["app-comment-manage-with-list"]],inputs:{productId:"productId"},features:[F],decls:15,vars:9,consts:[["commentInput","ngModel"],["editInput",""],[1,"comments-container"],[1,"comments-list"],[1,"comment-card"],[1,"comment-input-section","d-f"],["maxlength","200",3,"ngModelChange","ngModel","placeholder"],[3,"control"],[3,"click","disabled"],[1,"avatar"],[1,"content"],[1,"comment-header"],[1,"username"],[1,"actions"],[1,"edit-mode"],[1,"text"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[3,"value"],[1,"btn-container"],["type","button",3,"click"]],template:function(a,n){if(a&1){let s=k();o(0,"div",2)(1,"h3"),c(2),d(3,"translate"),r(),o(4,"div",3),b(5,Et,10,4,"div",4,St),r(),o(7,"div",5)(8,"input",6,0),d(10,"translate"),ye("ngModelChange",function(ae){return v(s),Se(n.newCommentText,ae)||(n.newCommentText=ae),C(ae)}),r(),x(11,"app-form-error",7),o(12,"button",8),g("click",function(){return v(s),C(n.addComment())}),o(13,"mat-icon"),c(14,"send"),r()()()()}if(a&2){let s=me(9);i(2),f(p(3,5,"comments.title")),i(3),E(n.dataSource.data),i(3),he("ngModel",n.newCommentText),u("placeholder",p(10,7,"comments.placeholder")),i(3),u("control",s),i(),u("disabled",!n.newCommentText())}},dependencies:[G,Ve,Me,Fe,Be,Z,U,Ne,M],encapsulation:2})};var Pt=()=>[$];function kt(t,m){if(t&1&&(o(0,"swiper-slide"),x(1,"app-image",32),r()),t&2){let e=m.$implicit;i(),u("src",e.guidName)}}function Tt(t,m){if(t&1&&(o(0,"span",14),c(1),d(2,"translate"),r()),t&2){let e=l();i(),R(" ",e.product.priceBeforeDiscount," ",p(2,2,"general.JOD")," / ")}}function Vt(t,m){if(t&1){let e=k();o(0,"i",33),g("click",function(){let n=v(e).$implicit,s=l();return C(s.rate(n))}),r()}if(t&2){let e=m.$implicit,a=l();xe("checked",e<=a.currentRating)}}function Mt(t,m){t&1&&(o(0,"div")(1,"mat-icon"),c(2,"report_problem"),r(),o(3,"p",34),c(4),d(5,"translate"),r()()),t&2&&(i(4),f(p(5,1,"general.out-of-stock")))}function Bt(t,m){if(t&1){let e=k();o(0,"div",37)(1,"input",38),g("change",function(){let n=v(e).$implicit,s=l().$implicit,w=l();return C(w.onAttributeSelected(s,n))}),r(),o(2,"label",39),c(3),r()()}if(t&2){let e=m.$implicit,a=l().$implicit;i(),u("value",e.id)("id","val-"+e.id)("name","attr-"+a.id)("checked",e.iselected),i(),u("for","val-"+e.id),i(),_(" ",e.value.local," ")}}function Ft(t,m){if(t&1&&(o(0,"div",19)(1,"label",35),c(2),r(),o(3,"div",36),b(4,Bt,4,6,"div",37,V),r()()),t&2){let e=m.$implicit;i(2),f(e.name.local),i(2),E(e.keyAttributeValues)}}function At(t,m){if(t&1&&x(0,"app-comment-manage-with-list",40),t&2){let e=l();u("productId",e.id)}}function Rt(t,m){t&1&&(o(0,"div",41),c(1,"\u0627\u0646\u0632\u0644 \u0644\u0623\u0633\u0641\u0644 \u0644\u0631\u0624\u064A\u0629 \u0627\u0644\u062A\u0639\u0644\u064A\u0642\u0627\u062A"),r())}function Ot(t,m){if(t&1){let e=k();o(0,"div")(1,"button",43),g("click",function(){let n=v(e).$implicit,s=l().$implicit,w=l(2);return C(w.selectOption(s,n))}),c(2),r()()}if(t&2){let e=m.$implicit;i(2),_(" ",e.value.local," ")}}function Dt(t,m){if(t&1&&(o(0,"div")(1,"label"),c(2),r(),P(3,Ot,3,1,"div",42),r()),t&2){let e=m.$implicit;i(2),f(e.name.local),i(),u("ngForOf",e.keyAttributeValues)}}function Lt(t,m){if(t&1&&P(0,Dt,4,2,"div",42),t&2){let e=l();u("ngForOf",e.keyAttributes)}}var re=class t extends We{constructor(e){super();this.productService=e}product=new De;cartService=W(He);spinnerService=W(Pe);keyAttributes=[];item=new de;id=null;currentRating=0;stars=[1,2,3,4,5];ngOnInit(){this.getProductById()}getProductById(){this.id=this.activatedRoute.snapshot.paramMap.get("productId"),this.id!=null&&this.productService.getById(this.id).subscribe(e=>{e.data&&(this.product=e.data,this.getKeyAttribute())})}getKeyAttribute(){this.product.keyAttributeValues&&this.product.keyAttributeValues.forEach(e=>{this.keyAttributes.find(a=>a.id==e.keyAttribute.id)||this.keyAttributes.push(e.keyAttribute),this.keyAttributes.find(a=>a.id==e.keyAttribute.id)?.keyAttributeValues||(this.keyAttributes.find(a=>a.id==e.keyAttribute.id).keyAttributeValues=[]),this.keyAttributes.find(a=>a.id==e.keyAttribute.id)?.keyAttributeValues?.push(e)})}selectOption(e,a){}increment(){this.item.quantity++}decrement(){this.item.quantity>1&&this.item.quantity--}addToCart(){if(this.addAttributeSelected(),!this.item.keyAttributeValues||this.item.keyAttributeValues.length<this.keyAttributes.length){this.notificationService.showWarning(this.translate.instant("general.select-all-attributes"),this.translate.instant("general.error"));return}this.item.product.id=this.product.id,this.item.product.name=this.product.name,this.item.product.price=this.product.price,this.item.product.images=this.product.images,this.cartService.addItem(this.item),this.notificationService.showSuccess(this.translate.instant("cart.add-to-cart"),this.translate.instant("general.success")),this.item=new de,this.spinnerService.openSideCart()}addAttributeSelected(){for(let e of this.keyAttributes){let a=e.keyAttributeValues.find(n=>n.iselected);if(a){let n=new Ke;n.id=a.id,n.value=a.value,this.item.keyAttributeValues.push(n),a.iselected=!1}}}onAttributeSelected(e,a){a.iselected=!0,e.keyAttributeValues.filter(n=>n.id!==a.id).forEach(n=>{n.iselected=!1})}rate(e){this.authService.runWithAuth(()=>{this.submitRating(e)})}submitRating(e){this.currentRating=e,this.productService.addOrUpdateRating(this.id,e).subscribe({next:a=>{this.product.averageRating=a.data??0},error:a=>console.error("Rating failed",a)})}static \u0275fac=function(a){return new(a||t)(B(D))};static \u0275cmp=T({type:t,selectors:[["app-product-view"]],standalone:!1,features:[F],decls:66,vars:25,consts:[["attributeOptionsTemplate",""],[1,"container","my-5","product-view"],[1,"row"],[1,"mb-3"],[1,"section-title","section-title-center","m-0"],["aria-hidden","true"],[1,"section-title-main","m-0"],[1,"col-md-6","image-gallery"],["slides-per-view","1","space-between","20","pagination","true","navigation","true","speed","3000","loop","true","autoplay",`{
                  "delay": 3000,
                  "disableOnInteraction": false
                }`,1,"product-image-wrapper"],[1,"col-md-6","product-info"],[1,"customization"],[1,"customization-item","d-flex","justify-content-between","align-items-center"],[1,"text-titel"],[1,"customization-item"],[1,"text-muted","text-decoration-line-through","py-1","px-2"],[1,"text-danger","fw-bold","py-1","px-2"],[1,"star-rating","pb-2"],["class","fa fa-star cursor-pointer",3,"checked","click",4,"ngFor","ngForOf"],[1,"text-description","py-1","px-2"],[1,"customization-item","py-2","text-description"],[1,"summary"],[1,"d-flex","justify-content-between","fw-bold","mb-2","align-items-center"],[1,"text-titel","quantity"],[1,"mx-2",3,"click"],[1,"mx-5"],[1,"d-flex","justify-content-between","fw-bold","mb-4","align-items-center"],[1,"btn","btn-primary","w-100",3,"click"],[1,"mt-2","text-center"],["src","./assets/img/icon/pay.svg","alt","Visa","height","24",1,"m-1"],["src","./assets/img/icon/paypal.svg","alt","Visa","height","24",1,"m-1"],["src","./assets/img/icon/visa.svg","alt","Visa","height","24",1,"m-1"],[1,"col-md-12"],["alt","Thumbnail Image",3,"src"],[1,"fa","fa-star","cursor-pointer",3,"click"],[1,"out-of-stock"],[1,"fw-bold","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-3"],[1,"form-check-label","d-flex","align-items-center","gap-2"],["type","radio",3,"change","value","id","name","checked"],[1,"form-check-label",3,"for"],[3,"productId"],[1,"placeholder-box"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(a,n){if(a&1){let s=k();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),x(4,"b",5),o(5,"span",6),c(6),r(),x(7,"b",5),r()(),o(8,"div",7)(9,"swiper-container",8),b(10,kt,2,1,"swiper-slide",null,V),r()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"h4",12),c(16),r()(),o(17,"div",13),h(18,Tt,3,4,"span",14),o(19,"span",15),c(20),d(21,"translate"),r()(),o(22,"div",16),P(23,Vt,1,2,"i",17),c(24),r(),h(25,Mt,6,3,"div"),o(26,"div",11)(27,"span",18),c(28),r()(),b(29,Ft,6,1,"div",19,V),r(),o(31,"div",20)(32,"div",21)(33,"span"),c(34),d(35,"translate"),r(),o(36,"span",22)(37,"a",23),g("click",function(){return v(s),C(n.increment())}),c(38,"+"),r(),o(39,"span",24),c(40),r(),o(41,"a",23),g("click",function(){return v(s),C(n.decrement())}),c(42,"-"),r()()(),o(43,"div",25)(44,"span"),c(45),d(46,"translate"),r(),o(47,"span",12),c(48),d(49,"translate"),r()(),o(50,"button",26),g("click",function(){return v(s),C(n.addToCart())}),c(51),d(52,"translate"),r(),o(53,"div",27),x(54,"img",28)(55,"img",29)(56,"img",30),r()()(),o(57,"div",31),ge(58,At,1,1)(59,Rt,2,0),ve(60,58,Pt,null,59),Ce(0,-1),r()()(),x(62,"hr",24)(63,"app-reviews-section"),P(64,Lt,1,1,"ng-template",null,0,be)}a&2&&(i(6),f(n.product.name.local),i(4),E(n.product.images),i(6),f(n.product.name.local),i(2),S(n.product.priceBeforeDiscount!=null&&n.product.priceBeforeDiscount>0?18:-1),i(2),R(" ",n.product.price," ",p(21,15,"general.JOD")," "),i(3),u("ngForOf",n.stars),i(),_("(",n.product.averageRating,"/5) "),i(),S(n.product.count==0?25:-1),i(3),f(n.product.description.local),i(),E(n.keyAttributes),i(5),_("",p(35,17,"general.quantity"),":"),i(6),f(n.item.quantity),i(5),_("",p(46,19,"general.total"),":"),i(3),R(" ",p(49,21,"general.JOD")," ",n.item.quantity*(n.product.price??0)),i(3),_(" ",p(52,23,"product.order-now")," "))},dependencies:[Ee,Z,A,N,M],styles:['@charset "UTF-8";.fa-star[_ngcontent-%COMP%]{color:#ccc;cursor:pointer;transition:color .2s}.fa-star.checked[_ngcontent-%COMP%]{color:#ffc107}.fa-star[_ngcontent-%COMP%]:hover{color:#ffdb58}']})};var Je=[{path:":id/product-category",component:z},{path:":id/product-category/:productCategoryId",component:z},{path:":id/product-category/:productCategoryId/product",component:ee},{path:":id/product-category/:productCategoryId/product/:productId",component:re}];je();var Ze=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_e({type:t});static \u0275inj=se({imports:[U,Te.forChild(Je),G,A,N,Q,$]})};export{N as a,ee as b,Ze as c};
