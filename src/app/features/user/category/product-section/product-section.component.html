<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div class="row w-100">
      <div class="col-12 my-4">
        <div class="row">
          <div class="col-md-10 col-sm-12">
            <nav class="navbar navbar-expand-lg mt-2">
              <div class="navbar-collapse">
                <ul class="navbar-nav">
                  <li
                    class="nav-item header__top__hover mx-2"
                    [routerLink]="['/']"
                  >
                    <span>{{ "general.home" | translate }} > </span>
                  </li>
                  @if(filter.name==null ||filter.name!=""){
                  <li
                    class="nav-item header__top__hover mx-2"
                    *ngIf="hasData"
                    [routerLink]="['../../']"
                  >
                    <span
                      >{{
                        dataSource.data[0].productCategory.category.name.local
                      }}
                      ></span
                    >
                  </li>
                  <li class="nav-item header__top__hover mx-2">
                    <span
                      *ngIf="
                        dataSource.data[0] && dataSource.data[0].productCategory
                      "
                      >{{ dataSource.data[0].productCategory.name.local }}</span
                    >
                  </li>
                  }@else {
                  <li class="nav-item header__top__hover mx-2">
                    <span
                      >{{ "general.result-for" | translate }}
                      {{ filter.name }} ></span
                    >
                  </li>
                  }
                </ul>
              </div>
            </nav>
          </div>
          <div class="col-md-2 col-sm-12">
            <nav class="navbar navbar-expand-lg mt-2 border">
              <div class="navbar-collapse">
                <ul class="navbar-nav">
                  <li class="nav-item header__top__hover mx-2">
                    <span>{{ "general.filter-by" | translate }}</span>
                    <ul class="">
                      <li>
                        <a class="dropdown-item">{{
                          "general.price" | translate
                        }}</a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-sm-0"></div>
      <div class="col-md-9 col-sm-12">
        <div
          class="row g-4 category-section"
          *ngIf="dataSource.data.length > 0"
        >
          <div
            class="col-md-6 col-lg-4"
            *ngFor="let product of dataSource.data"
          >
            <div class="card product-card border-0" [routerLink]="[product.id]">
              <div class="product-image-wrapper">
                <swiper-container
                  slides-per-view="1"
                  space-between="20"
                  pagination="true"
                  class="my-swiper"
                  speed="3000"
                  loop="true"
                  autoplay='{
                  "delay": 3000,
                  "disableOnInteraction": false
                }'
                >
                  @for (item of product.images; track $index) {
                  <swiper-slide>
                    <div class="discountRated" *ngIf="product.discountRated">
                      {{ product.discountRated }}
                    </div>
                    <app-image
                      src="{{ item.guidName }}"
                      [class]="'card-img-top main-img'"
                      alt="product.name"
                    ></app-image>
                  </swiper-slide>
                  }
                </swiper-container>
              </div>
              <div class="card-body text-center">
                <div class=""><p class="text-truncate fs-6 fs-sm-5 fs-md-4 fs-lg-3">{{ product.name.local }}</p></div>
                <div class="price">
                  {{ "general.JOD" | translate }} {{ product.price }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <app-pagination
          [length]="totalNumberOf"
          (page)="pageChanged($event)"
          [pageSizeOptions]="pageSizeOptions"
          showFirstLastButtons
        ></app-pagination>
      </div>
    </div>
  </div>
</div>
